# ðŸŽŸ Today
ë˜ ì™”ë‹¤ ë˜ ì™”ì–´.. ì•Œì•˜ë˜ê±¸ ê¹Œë¨¹ê³  ì´í•´í–ˆë˜ê²ƒì´ í˜¼ë™ìŠ¤ëŸ¬ì›Œì„œ ë­ê°€ë­”ì§€ í—·ê°ˆë¦¬ê¸° ì‹œìž‘ í•˜ëŠ” ë‹¨ê³„... ì–´ì œ ë°°ì› ë˜ ì„¸ì…˜ì€ ì´í•´ë¥¼ ê³§ ìž˜í–ˆìœ¼ë©´ì„œ(í™•ì‹¤í•˜ë‹ˆ?) JWTë„ ì´í•´ ìž˜í•´ ë‚˜ê°€ë‹¤ ë§‰íŒì— ì´ê²Œ ë­ëžŒ?.. í—·ê°ˆë¦¬ê¸° ì‹œìž‘í•œë‹¤. accessTokenì€ ì™œ ì—¬ê¸° ë“¤ì–´ê°€ëŠ”ê±´ì§€,, refreshTokenì€ ë˜ ì™œ ì—¬ê¸° ìžˆìœ¼ì‹œì£ ? ì‹¶ë‹¤. ê·¼ë° ê·¸ê²ƒë³´ë‹¤ ë¦¬ì•¡íŠ¸ë¥¼ ë‹¤ ìžŠì–´ë¨¹ì€ê±¸.. ìŠ¤í…Œì´íŠ¸í”„ë¡­ìŠ¤ê°€ í´ëž˜ìŠ¤ ê°ì²´ì— ë‹´ê¸°ë©´ ì–´ë–»ê²Œ ì‚¬ìš©ì„ í•´ì¤˜ì•¼í•˜ëŠ”ê±°ì£ ?... í´ë¼ì´ì–¸íŠ¸ê°€ ë‚´ ë°œëª©ì„ ìž¡ì„ê±´ ì•Œê³ ìžˆì—ˆì§€ë§Œ ì˜¤ëŠ˜ì€ ì˜ˆìƒì¹˜ ëª»í–ˆì—ˆëŠ”ë°..! ë³´êµ¬ ìžì•¼ê² ë‹¤. ë‹¤ìŒ ì£¼ ì •ë„ë©´ ì´ ì‹œê¸°ê°€ ì§€ë‚˜ê°”ìŒ ì¢‹ê² ë‹¤

ì˜¤ëŠ˜ë°°ìš´ê²ƒ
-JWT

# ðŸ§  JWT


> **ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦**ì€ **ì„œë²„(í˜¹ì€DB)**ì— ìœ ì € ì •ë³´ë¥¼ ë‹´ì€ ì¸ì¦ ë°©ì‹ì´ì—ˆë‹¤. 
ë§¤ë²ˆ ìœ ì €ê°€ ë¯¼ê°í•œ ì •ë³´ë¥¼ ì„œë²„ì—ë‹¤ ìš”ì²­í•˜ë©´ ì„œë²„ëŠ” ê°€ì§€ê³  ìžˆëŠ” ì„¸ì…˜ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ë¥¼ ë§¤ë²ˆ í™•ì¸í•´ì•¼ë§Œ í•œë‹¤.ë•Œë¬¸ì— ì„¸ì…˜ì„ ì´ìš©í•˜ë©´ ë§¤ ìš”ì²­ë§ˆë‹¤ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚´íŽ´ë³´ì•„ì•¼í•˜ë¯€ë¡œ ë§¤ë²ˆ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²Œ ë¶€ë‹´ì´ë‹¤. ë•Œë¬¸ì— ì´ì— ëŒ€í•œ ë¶€ë‹´ì„ ëœì–´ë‚´ê¸°ìœ„í•œ ë°©ë²• JWT(JSON Web Token)ì— ëŒ€í•´ ì•Œì•„ë³´ê² ë‹¤.
![](https://images.velog.io/images/soyoungdl/post/c2edcf1a-f095-4c43-a954-73ef27d70499/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-11-23%20%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB%2010.40.07.png)



## ðŸ‘Š JWT
>- í† í° ì¸ì¦ ë°©ì‹ ì¤‘ í•˜ë‚˜
>- Json Web Tokenì˜ ì•½ìž
- **Jsoní¬ë§·**ìœ¼ë¡œ ì‚¬ìš©ìžì— ëŒ€í•œ ì†ì„±ì„ ì €ìž¥í•˜ëŠ” ì›¹ í† í°
>-  **í´ë¼ì´ì–¸íŠ¸**ì—ì„œ ì¸ì¦ ì •ë³´ ë³´ê´€í•˜ê¸°



í† í°ì €ìž¥ë°©ì‹ = í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì¸ì¦ì •ë³´ë¥¼ ê°€ì§€ê³  ìžˆëŠ”.  í´ë¼ì´ì–¸íŠ¸ê°€ ì¼ì¢…ì˜ ë§ˆíŒ¨ë¥¼ ê°€ì§€ê³ ìžˆëŠ” ëŠë‚Œ. 

Q.  XSS CSRFë“±ì˜ ê³µê²©ì— ë…¸ì¶œë˜ê¸° ì‰¬ìš°ë¯€ë¡œ  ë¯¼ê°í•œ ì •ë³´ëŠ” ê°€ì§ˆ ìˆ˜ ì—†ë‹¤ ê·¼ë° í´ë¼ì´ì–¸íŠ¸ì— ì €ìž¥í•œë‹¤ê³ ??
![](https://images.velog.io/images/soyoungdl/post/657a8b33-6291-44b8-8a5c-0d9ba84e061f/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-11-23%20%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB%2010.43.30.png)


ì—¥?? í† í°ì„ í´ë¼ì´ì–¸íŠ¸ì— ì €ìž¥í•œë‹¤ê³ ? ê·¸ê±´ ë„ˆë¬´ ìœ„í—˜í•˜ìž–ì•„!
í† í°ì€ ìœ ì € ì •ë³´ë¥¼ ì•”í˜¸í™”í•œ ìƒíƒœë¡œ ë‹´ì„ ìˆ˜ ìžˆê³ , ì•”í˜¸í™” í–ˆê¸° ë•Œë¬¸ì— í´ë¼ì´ì–¸íŠ¸ì— ë‹´ì„ ìˆ˜ ìžˆë‹¤.

## ðŸ‘Š JWT êµ¬ì¡°
![](https://images.velog.io/images/soyoungdl/post/512696fa-5412-478a-b2bb-4bcee8b284f9/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-11-23%20%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB%2010.47.06.png)
>1. Header
- HeaderëŠ” ì´ê²ƒì´ ì–´ë–¤ ì¢…ë¥˜ì˜ í† í°ì¸ì§€(ì§€ê¸ˆì˜ ê²½ìš°ì—” JWT), ì–´ë–¤ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ signí• ì§€ê°€ ì í˜€ìžˆë‹¤.JSON ê°ì²´ë¥¼ base64ë°©ì‹ìœ¼ë¡œ ì¸ì½”ë”©í•˜ë©´ JWTì˜ ì²« ë²ˆì§¸ ë¶€ë¶„ì´ ì™„ì„±ëœë‹¤.
>2. Payload
- Payloadì—ëŠ” ì •ë³´ê°€ ë‹´ê²¨ìžˆë‹¤. ì–´ë–¤ ì •ë³´ì— ì ‘ê·¼ ê°€ëŠ¥í•œì§€ì— ëŒ€í•œ ê¶Œí•œì„ ë‹´ì„ ìˆ˜ë„ ìžˆê³ , ì‚¬ìš©ìžì˜ ìœ ì € ì´ë¦„ ë“± í•„ìš”í•œ ë°ì´í„°ëŠ” ì´ê³³ì— ë‚¨ì•„ Signì‹œí‚¨ë‹¤. ì•”í˜¸í™”ê°€ ë˜ëŠ” ì •ë³´ì´ì§€ë§Œ ë¯¼ê°í•œ ì •ë³´ëŠ” ë‹´ì§€ ë§ìž. ì²« ë²ˆì§¸ ë¶€ë¶„ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, ìœ„ JSON ê°ì²´ë¥¼ base 64ë¡œ ì¸ì½”ë”©í•˜ë©´ JWTì˜ ë‘ ë²ˆì¨° ë¸”ë¡ì´ ì™„ì„±ëœë‹¤.
>3. Signature
- base64ë¡œ ì¸ì½”ë”©ëœ ì²« ë²ˆì§¸, ê·¸ë¦¬ê³  ë‘ ë²ˆì§¸ ë¶€ë¶„ì´ ì™„ì„±ë˜ì—ˆë‹¤ë©´, ì›í•˜ëŠ” ë¹„ë°€ í‚¤(ì•”í˜¸í™”ì— ì¶”ê°€í•  **salt**)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•”í˜¸í™”í•œë‹¤.base64 ì¸ì½”ë”©ì„ í•œ ê°’ì€ ëˆ„êµ¬ë‚˜ ì‰½ê²Œ ë””ì½”ë”©í•  ìˆ˜ ìžˆì§€ë§Œ, ì„œë²„ì—ì„œ ì‚¬ìš©í•˜ê³  ìžˆëŠ” ë¹„ë°€í‚¤ë¥¼ ë³´ìœ í•œ ê²Œ ì•„ë‹ˆë¼ë©´ í•´ë…í•´ ë‚´ëŠ”ë° ì—„ì²­ë‚œ ì‹œê°„ê³¼ ë…¸ë ¥ì´ ë“¤ì–´ê°„ë‹¤.
ì˜ˆë¥¼ ë“¤ì–´, ë§Œì•½ HMAC SHA256 ì•Œê³ ë¦¬ì¦˜(ì•”í˜¸í™” ë°©ë²• ì¤‘ í•˜ë‚˜)ì„ ì‚¬ìš©í•œë‹¤ë©´ signatureëŠ” ì•„ëž˜ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤.
![](https://images.velog.io/images/soyoungdl/post/c6a67b84-689a-4407-b5fb-503726041bad/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-11-23%20%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB%2010.49.38.png)


![](https://images.velog.io/images/soyoungdl/post/7f27896e-da99-4460-9ec3-9abfe6cb91bc/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-11-23%20%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB%2010.50.00.png)

JWT í† í°ì€ ë¡œì»¬ìŠ¤í† ë¦¬ì§€, ì¿ í‚¤, ë¦¬ì•¡íŠ¸ ìŠ¤í…Œì´íŠ¸,, ë“±ë“± ë‹¤ì–‘í•œê³³ì— ì €ìž¥ê°€ëŠ¥í•˜ë‹¤.



## ðŸ‘Š JWTì˜ ì¢…ë¥˜
> 1. Acess Token
> 2. Refresh Token

- **Acess Tokenì€ ë³´í˜¸ëœ ì •ë³´ë“¤(ìœ ì €ì˜ ì´ë©”ì¼, ì—°ë½ì²˜, ì‚¬ì§„ ë“±)ì— ì ‘ê·¼í•  ìˆ˜ ìžˆëŠ” ê¶Œí•œ ë¶€ì—¬ì— ì‚¬ìš©ëœë‹¤.** í´ë¼ì´ì–¸íŠ¸ê°€ ì²˜ìŒ ì¸ì¦ì„ ë°›ê²Œ ë  ë–„ (ë¡œê·¸ì¸ì‹œ), access, refresh token ë‘ ê°€ì§€ë¥¼ ë‹¤ ë°›ì§€ë§Œ, ì‹¤ì œë¡œ ê¶Œí•œì„ ì–»ëŠ”ë° ì‚¬ìš©í•˜ëŠ” í† í°ì€ access tokenì´ë‹¤.

ê·¸ë ‡ë‹¤ë©´ access tokenë§Œ ì£¼ë©´ ë˜ëŠ”ê±° ì•„ë‹Œê°€?

- ë§žë‹¤! ê¶Œí•œì„ ë¶€ì—¬ë°›ëŠ” ë°ì—” access tokenë§Œ ê°€ì§€ê³  ìžˆìœ¼ë©´ ëœë‹¤. í•˜ì§€ë§Œ access tokenì„ ë§Œì•½ ì•…ì˜ì ì¸ ìœ ì €ê°€ ì–»ì–´ëƒˆë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œ? ì´ ì•…ì˜ì ì¸ ìœ ì €ëŠ” ìžì‹ ì´ 00ìœ ì €ì¸ê²ƒ ë§ˆëƒ¥ ì„œë²„ì— ì—¬ëŸ¬ê°€ì§€ ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ ìžˆë‹¤. (ë§Œì•½ ì´ë¬¸ì œê°€ ëˆì´ë¼ë©´ ë¬¸ì œê°€ ì»¤ì§€ê² ì§€..) ê·¸ë ‡ê¸° ë•Œë¬¸ì— **access tokenì—ëŠ” ë¹„êµì  ì§§ì€ ìœ íš¨ê¸°ê°„ì„ ì£¼ì–´ íƒˆì·¨ë˜ë”ë¼ë„ ì˜¤ëž«ë™ì•ˆ ì‚¬ìš©í•  ìˆ˜ ì—†ë„ë¡ í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤.**

- Access tokenì˜ ìœ íš¨ê¸°ê°„ì´ ë§Œë£Œëœë‹¤ë©´ refresh tokenì„ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ access tokenì„ ë°œê¸‰ë°›ëŠ”ë‹¤. ì´ë•Œ ìœ ì €ëŠ” ë‹¤ì‹œ ë¡œê·¸ì¸í•  í•„ìš”ê°€ ì—†ë‹¤.

refresh tokenë„ íƒˆì·¨ë‹¹í•œë‹¤ë©´?

- ìœ íš¨ê¸°ê°„ì´ ê¸´ refresh tokenë§ˆì € ì•…ì˜ì ì¸ ìœ ì €ê°€ ì–»ì–´ë‚¸ë‹¤ë©´ í° ë¬¸ì œê°€ ë  ê²ƒì´ë‹¤. ìƒë‹¹ížˆ ì˜¤ëžœê¸°ê°„ ë™ì•ˆ access tokenì´ ë§Œë£Œë˜ë©´  ë‹¤ì‹œ ë°œê¸‰ë°›ìœ¼ë©° ìœ ì €ì—ê²Œ í”¼í•´ë¥¼ ìž…íž ìˆ˜ ìžˆê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— **ìœ ì €ì˜ íŽ¸ì˜ë³´ë‹¤ ì •ë³´ë¥¼ ì§€í‚¤ëŠ”ê²ƒì´ ë” ì¤‘ìš”í•œ ì›¹ì‚¬ì´íŠ¸ë“¤ì€ refresh tokenì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê³³ì´ ë§Žë‹¤.** 


## ðŸ‘Š JWT ìž¥ì 

![](https://images.velog.io/images/soyoungdl/post/08319b76-1733-4188-b1cc-3a6457332599/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-11-23%20%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB%2010.51.26.png)


> ì¶œì²˜
> - 
