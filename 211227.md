# 🐙 211227
오늘은 세션,쿠키,해싱에 대해서 배웠다. 저번달에 배워서그런지 이제 구조,흐름정도는 보이는것같다. 놀라운 발전 ㅜ 티아이엘 진짜 오랜만에 쓴다. 뭔가 오늘 배운내용이 아직 정리가 안된듯한데... 기록하는거에 의의를 두자. 





# 📦 Session
Session
- 서버가 Client에 유일하고 암호화된 ID를 부여
- 중요 데이터는 **서버**에서 관리

![](https://images.velog.io/images/soyoungdl/post/9881e2ed-9983-44a5-b173-45c7663be92f/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-12-27%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%201.18.04.png)

상대적으로 보안에 취햑한 쿠키에 세션아이디를 담아 줘야해
그래서 **세션아이디에 암호화**를해줘 **Set-Cookie메소드**에 보내준다.

그리고는 김코딩이 셔츠를 담으려고 하는데,, 이때는 세션아이디가 부여가 된상태이므로** 세션아이디**로 서버에 요청을 하게된다. (세션아이디는 신분증같은 역할을 하게됨)


![](https://images.velog.io/images/soyoungdl/post/8d504348-5b0f-498e-bbc2-d880f4f3355d/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-12-27%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%201.12.36.png)


세션 단점
서버의 이용자가 너무 많으면 .. 메모리와 같은 일정 저장공간을 세션 유저 데이터로 항상 가지고 있어야하기때문에 가용메모리 양이 줄어들어 서버의 성능의 저하로 이어짐

기존의 쿠키를 완전히 대체하는것이 아니기때문에 여전히 쿠키를 사용하고있다. 그래서 쿠키의 단점또한 세션의 단점이기도 하다.![](https://images.velog.io/images/soyoungdl/post/4a0235c1-1ba0-44b5-b4e9-95f31094cf40/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-12-27%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%201.16.57.png)


express-session
-----
세션을 대신 관리해주는 'express-session'이라는 모듈이 존재한다.  express-session은 세션을 위한 미들웨어이다.
기능)
> 필요한 경우, 세션 아이디를 쿠키에 저장하고, 해당 세션 아이디에 종속되는 고유한 세션 객체를 서버 메모리에 저장한다.
이때 세션 객체는 서로 독립적인 객체이므로 각각 다른 데이터를 저장할 수 있다.
req.session이 바로 세션 객체이며, req.session은 세션 객체에 세션 데이터를 저장하거나 불러오기위해 사용한다. 
공공장소에 가면 항상 로그아웃을 해야하는 이유가 바로 이것때문



# cookie
> httpa는 statesless(무상태성)인데 어떻게 우리의 정보가 유지되는것일까? 바로 쿠키 덕분

 > 쿠키란? 어떤 웹사이트에 들어갔을때 서버가 일방적으로 클라이언트에 전달하는 작은데이터
 - 서버가 웹브라우저에 정보를 저장하고 불러올 수 있는 수단.
- 해당 도메인에 대한 쿠키가 존재하면, 웹브라우저는 도메인에게 http요청 시 쿠키를 함께 전달
 

![](https://images.velog.io/images/soyoungdl/post/b1c4759c-9a15-4975-8bf7-698468ec4d4b/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-12-27%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%201.29.56.png)

- 서버가 웹브라우저에 정보를 저장하고 불러올 수 있는 수단.
- 해당 도메인에 대한 쿠키가 존재하면, 웹브라우저는 도메인에게 http요청 시 쿠키를 함꼐 전달

쿠키특징: 지우지 않는다면 정보를 저장한다.
![](https://images.velog.io/images/soyoungdl/post/7a4d483e-a970-46f3-bbf6-ba14688b9fad/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-12-27%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%201.32.00.png)

![](https://images.velog.io/images/soyoungdl/post/11de18cd-a4ed-48a9-8ab8-fd04161f7b46/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-12-27%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%201.33.43.png)![](https://images.velog.io/images/soyoungdl/post/a417c906-524b-4fa2-ad39-af89fb6d7baf/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-12-27%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%201.35.16.png)![](https://images.velog.io/images/soyoungdl/post/21e63dda-e8fd-477e-a05f-2c72cafcc849/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-12-27%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%201.36.54.png)
